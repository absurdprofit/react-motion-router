/* LICENSES */
var f=Object.defineProperty;var u=(t,s,e)=>s in t?f(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var d=(t,s,e)=>(u(t,typeof s!="symbol"?s+"":s,e),e);import{R as c,j as n,g,a as x,_ as j}from"./index-xTRlJpFc.js";import{H as R}from"./Heroes-rLdVZhoo.js";import"./king-wJZ8uQj7.js";let p="";function _({hero:t,navigation:s,onClick:e}){const[r,l]=c.useState(""),h=c.useRef(null);return c.useEffect(()=>{var o;(o=s.transition)==null||o.finished.then(()=>{var i;((i=s.current.url)==null?void 0:i.pathname)==="/tiles"&&l("")})},[]),n.jsx("div",{onClick:()=>{const o=h.current;if(o){const i=o.getBoundingClientRect();l(g(-i.top,-i.right,-i.bottom,-i.left))}p=t.id,e&&e()},className:"tile",children:n.jsx(x,{id:t.id,config:{duration:200},children:n.jsx("img",{ref:h,src:t.photoUrl,alt:t.name,width:t.photoWidth,height:t.photoHeight,decoding:"async",style:{clipPath:p===t.id?r:""}})})})}const a=class a extends c.Component{constructor(){super(...arguments);d(this,"state",{heroes:R})}componentDidMount(){var e;(e=this.props.navigation.transition)==null||e.finished.then(()=>{a.isFirstLoad||(a.isFirstLoad=!0,this.forceUpdate())})}render(){return n.jsx("div",{className:`tiles ${a.isFirstLoad?"loaded":"suspense"}`,children:n.jsx("div",{className:"content",children:this.state.heroes.map((e,r)=>n.jsx(j,{href:"slides",params:{hero:r},children:n.jsx(_,{navigation:this.props.navigation,hero:e})},r))})})}};d(a,"isFirstLoad",!1);let m=a;export{m as default};
