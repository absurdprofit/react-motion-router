/* LICENSES */
import{R as c,r as h,j as e,n as g,a,_ as x,I as p}from"./index-Kz-IqHAf.js";import{d as u}from"./Clear-twAIwFCN.js";import{T as m}from"./Typography-HM3hK_r6.js";import"./extendSxProp-DmTAmp7H.js";let r=!1,n,f="";function y(i){const[o,j]=c.useState(!1),{noBg:s,...t}=i.route.params;if(h.useEffect(()=>{if(!t.name){i.navigation.goBack();return}if(f=t.name,t.description){n||(n=i.navigation.metaData.get("description"));const l=t.description;i.navigation.metaData.set("description",`${l.slice(0,102)}...`)}i.navigation.addEventListener("back",()=>{i.navigation.metaData.set("description",n),n=void 0},{once:!0,capture:!0}),i.navigation.transition?.finished.then(()=>{r=!0})},[]),!t.name)return e.jsx(e.Fragment,{});const d=t.photoWidth/t.photoHeight;return e.jsx(g,{disabled:o,children:e.jsxs("article",{"aria-label":`Character profile: ${t.name}`,className:`details ${r?"loaded":"suspense"}`,style:{width:"100%",height:"100%",backgroundColor:s?"white":void 0},children:[!s&&e.jsx(a,{id:`${t.id}-card-bg`,config:{willChange:["backgroundColor"]},children:e.jsx("div",{className:"card-bg","aria-hidden":"true"})}),e.jsx(x,{"aria-label":"Go Back",goBack:!0,tabIndex:-1,children:e.jsx(p,{style:{position:"absolute",color:"grey",zIndex:1e4},disableRipple:!0,children:e.jsx(a,{id:"back",config:{type:"fade-through"},children:e.jsx(u,{style:{zIndex:100}})})})}),e.jsxs("div",{className:"profile-info",children:[e.jsx(a,{id:`${t.id}-gradient-overlay`,children:e.jsx("div",{className:"gradient-overlay",style:{height:window.innerWidth/d,width:window.innerWidth},"aria-hidden":"true"})}),e.jsx(a,{id:t.id,config:{willChange:["objectFit","borderRadius"]},children:e.jsx("img",{src:t.photoUrl,alt:"Character",width:t.photoWidth,height:t.photoHeight})}),e.jsxs("div",{className:"text-content",tabIndex:0,children:[e.jsx(a,{id:`title-${t.id}`,children:e.jsx(m,{id:"title",style:{fontWeight:"bold",fontSize:"28px",zIndex:10},gutterBottom:!0,variant:"h4",component:"h4",children:t.name})}),e.jsx("div",{className:"description",children:e.jsx(a,{id:`description-${t.id}`,children:e.jsx("p",{style:{zIndex:10},children:t.description})})})]})]})]})})}export{y as default};
