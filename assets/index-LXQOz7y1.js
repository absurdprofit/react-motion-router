/* LICENSES */
import{R as l,r as h,j as e,n as x,a,_ as g,I as p}from"./index-9pMXMHfr.js";import{d as m}from"./Clear-eHktiYC7.js";import{T as u}from"./Typography-JQRQ10y4.js";import"./extendSxProp-layLgVpw.js";let r=!1,n,f="";function w(i){const[d,j]=l.useState(!1),{noBg:s,...t}=i.route.params;if(h.useEffect(()=>{if(!t.name){i.navigation.goBack();return}if(f=t.name,t.description){n||(n=i.navigation.metaData.get("description"));const c=t.description;i.navigation.metaData.set("description",`${c.slice(0,102)}...`)}i.navigation.addEventListener("back",()=>{i.navigation.metaData.set("description",n),n=void 0},{once:!0,capture:!0}),i.navigation.transition?.finished.then(()=>{r=!0})},[]),!t.name)return e.jsx(e.Fragment,{});const o=t.photoWidth/t.photoHeight;return e.jsx(x,{disabled:d,children:e.jsxs("article",{"aria-label":`Character profile: ${t.name}`,className:`details ${r?"loaded":"suspense"}`,style:{width:"100%",height:"100%",backgroundColor:s?"white":void 0},children:[!s&&e.jsx(a,{id:`${t.id}-card-bg`,children:e.jsx("div",{className:"card-bg","aria-hidden":"true"})}),e.jsx(g,{"aria-label":"Go Back",goBack:!0,tabIndex:-1,children:e.jsx(p,{style:{position:"absolute",color:"grey",zIndex:1e4},disableRipple:!0,children:e.jsx(a,{id:"back",config:{type:"fade-through"},children:e.jsx(m,{style:{zIndex:100}})})})}),e.jsxs("div",{className:"profile-info",children:[e.jsx(a,{id:`${t.id}-gradient-overlay`,children:e.jsx("div",{className:"gradient-overlay",style:{height:window.innerWidth/o,width:window.innerWidth},"aria-hidden":"true"})}),e.jsx(a,{id:t.id,children:e.jsx("img",{src:t.photoUrl,alt:"Character",width:t.photoWidth,height:t.photoHeight})}),e.jsxs("div",{className:"text-content",tabIndex:0,children:[e.jsx(a,{id:`title-${t.id}`,children:e.jsx(u,{id:"title",style:{fontWeight:"bold",fontSize:"28px",zIndex:10},gutterBottom:!0,variant:"h4",component:"h4",children:t.name})}),e.jsx("div",{className:"description",children:e.jsx(a,{id:`description-${t.id}`,children:e.jsx("p",{style:{zIndex:10},children:t.description})})})]})]})]})})}export{w as default};
