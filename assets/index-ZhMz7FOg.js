/* LICENSES */
import{R as a,j as e,g as h,a as f,_ as m}from"./index-_mRsxq9f.js";import{H as u}from"./Heroes-rLdVZhoo.js";import"./king-wJZ8uQj7.js";let l="";function g({hero:t,navigation:i,onClick:s}){const[p,r]=a.useState(""),d=a.useRef(null);return a.useEffect(()=>{i.transition?.finished.then(()=>{i.current.url?.pathname==="/tiles"&&r("")})},[]),e.jsx("div",{onClick:()=>{const c=d.current;if(c){const n=c.getBoundingClientRect();r(h(-n.top,-n.right,-n.bottom,-n.left))}l=t.id,s&&s()},className:"tile",children:e.jsx(f,{id:t.id,config:{duration:200},children:e.jsx("img",{ref:d,src:t.photoUrl,alt:t.name,width:t.photoWidth,height:t.photoHeight,decoding:"async",style:{clipPath:l===t.id?p:""}})})})}class o extends a.Component{static isFirstLoad=!1;state={heroes:u};componentDidMount(){this.props.navigation.preloadRoute("slides"),this.props.navigation.transition?.finished.then(()=>{o.isFirstLoad||(o.isFirstLoad=!0,this.forceUpdate())})}render(){return e.jsx("div",{className:`tiles ${o.isFirstLoad?"loaded":"suspense"}`,children:e.jsx("div",{className:"content",children:this.state.heroes.map((i,s)=>e.jsx(m,{href:"slides",params:{hero:s},children:e.jsx(g,{navigation:this.props.navigation,hero:i})},s))})})}}export{o as default};
