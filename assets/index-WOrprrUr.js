/* LICENSES */
import{R as c,r as h,j as e,n as g,a,_ as x,I as p}from"./index-BGlUo3tF.js";import{d as u}from"./Clear-tm0QAHuM.js";import{T as f}from"./Typography-AwtRONlx.js";import"./extendSxProp-0TmWue6s.js";let s=!1,n,m="";function y(t){const[o,b]=c.useState(!1),{noBg:r,...i}=t.route.params;if(h.useEffect(()=>{if(!i.name){t.navigation.goBack();return}if(m=i.name,i.description){n||(n=t.navigation.metaData.get("description"));const l=i.description;t.navigation.metaData.set("description",`${l.slice(0,102)}...`)}t.navigation.addEventListener("back",()=>{t.navigation.metaData.set("description",n),n=void 0},{once:!0,capture:!0}),t.navigation.transition?.finished.then(()=>{s=!0})},[]),!i.name)return e.jsx(e.Fragment,{});const d=i.photoWidth/i.photoHeight;return e.jsx(g,{disabled:o,children:e.jsx("article",{"aria-label":`Character profile: ${i.name}`,className:`details ${s?"loaded":"suspense"}`,style:{width:"100%",height:"100%",backgroundColor:r?"white":void 0},children:e.jsx(a,{id:`${i.id}-card-bg`,config:{willChange:["backgroundColor","borderRadius"],deepClone:!1},disabled:r,children:e.jsxs("div",{className:"card-bg","aria-hidden":"true",children:[e.jsx(x,{"aria-label":"Go Back",goBack:!0,tabIndex:-1,children:e.jsx(p,{style:{position:"absolute",color:"grey",zIndex:1e4},disableRipple:!0,children:e.jsx(a,{id:"back",config:{type:"fade-through"},children:e.jsx(u,{style:{zIndex:100}})})})}),e.jsxs("div",{className:"profile-info",children:[e.jsx(a,{id:`${i.id}-gradient-overlay`,config:{willChange:["background","opacity","clipPath"]},children:e.jsx("div",{className:"gradient-overlay",style:{height:window.innerWidth/d,width:window.innerWidth},"aria-hidden":"true"})}),e.jsx(a,{id:i.id,config:{willChange:["objectFit","borderRadius"]},children:e.jsx("img",{src:i.photoUrl,alt:"Character",width:i.photoWidth,height:i.photoHeight})}),e.jsxs("div",{className:"text-content",tabIndex:0,children:[e.jsx(a,{id:`title-${i.id}`,children:e.jsx(f,{id:"title",style:{fontWeight:"bold",fontSize:"28px",zIndex:10},gutterBottom:!0,variant:"h4",component:"h4",children:i.name})}),e.jsx("div",{className:"description",children:e.jsx(a,{id:`description-${i.id}`,config:{willChange:["clipPath","textAlign","overflow","lineHeight"]},children:e.jsx("p",{style:{zIndex:10},children:i.description})})})]})]})]})})})})}export{y as default};
